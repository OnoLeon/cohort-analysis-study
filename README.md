# Когортный анализ интернет-магазина

## О проекте
Этот проект — анализ поведения клиентов британского интернет-магазина. Данные взяты с Kaggle ([Online Retail Dataset](https://www.kaggle.com/datasets/vijayuv/onlineretail/data)). В них содержится информация о заказах: номер счёта, код товара, описание, количество, дата, цена, ID клиента и страна. Цель — изучить поведение клиентов, найти инсайды, предложить улучшения.

## Задачи
- Провести EDA, чтобы лучше понять структуру данных и лучше их изучить.
- Провести когортный анализ, чтобы понять, как себя ведут клиенты.
- Сравнить поведение клиентов из Великобритании и других стран.
- Найти сезонные тренды и странности в покупках.
- Дать рекомендации для бизнеса.

## Данные
- **Источник**: [Kaggle - Online Retail Dataset](https://www.kaggle.com/datasets/vijayuv/onlineretail/data)
- **Столбцы**:
  - `InvoiceNo`: Номер заказа.
  - `StockCode`: Код товара.
  - `Description`: Описание товара.
  - `Quantity`: Количество товара.
  - `InvoiceDate`: Дата и время заказа.
  - `UnitPrice`: Цена за единицу.
  - `CustomerID`: ID клиента.
  - `Country`: Страна клиента.
- **Объём**: 541,909 строк до очистки.

## Структура проекта
- **Файл**: `cohort_retention.ipynb`
  - **Разделы**:
    - **Введение**: Описание целей и данных.
    - **Загрузка и очистка данных**: Импорт библиотек, загрузка данных, удаление пропусков и дубликатов.
    - **Анализ данных (EDA)**: Изучение структуры данных, подсчёт стран, клиентов и товаров.
    - **Когортный анализ**: Расчёт удержания, дохода на клиента (ARPU) и частоты покупок.
    - **Выводы и рекомендации**: Основные находки и советы для бизнеса.
- **Ключевые метрики**:
  - Удержание клиентов (по месяцам и общее).
  - Средний доход на клиента (ARPU).
  - Медианное время между покупками
  - Медианное количество заказов

## Установка
Для работы с проектом нужны следующие библиотеки:
```bash
pip install pandas numpy matplotlib seaborn scipy
```
- **Python**: 3.9.11
- **Библиотеки**:
  - pandas: для работы с данными.
  - numpy: для расчётов.
  - matplotlib и seaborn: для графиков.
  - scipy: для статистических тестов.

## Как запустить
1. Склонируйте репозиторий:
   ```bash
   git clone <ссылка_на_репозиторий>
   ```
2. Перейдите в папку проекта:
   ```bash
   cd <папка_проекта>
   ```
3. Поместите файл `OnlineRetail.csv` в папку или укажите правильный путь в ноутбуке.
4. Запустите Jupyter Notebook:
   ```bash
   jupyter notebook cohort_retention.ipynb
   ```

## Основные выводы
- Клиенты из Великобритании возвращаются чаще (медиана удержания: 20.22%) по сравнению с другими странами (18.95%).
- Клиенты из других стран приносят больше дохода на человека (ARPU).
- Пик продаж — осенью (особенно ноябрь), но праздничные дни неожиданно слабые, возможно, из-за пропусков в данных.
- Первые когорты (декабрь 2010 – февраль 2011) самые лояльные и прибыльные.
- Операционные транзакции (не товары) приносят больше дохода, особенно для клиентов не из Великобритании.

## Рекомендации
1. **Собирать больше данных**: Особенно в праздничные дни, чтобы не упускать важные тренды.
2. **Улучшить маркетинг перед праздниками**: Разработать акции для увеличения продаж.
3. **Провести A/B тесты**: Попробовать разные подходы к рекламе и акциям.
4. **Сфокусироваться на Великобритании**: Это более стабильный рынок для долгосрочной стратегии, а Non-UK клиенты хороши для быстрого дохода для перенаправления средств на улучшиение позиций на UK рынке.

## Ограничения
- Пропуски в данных, особенно в праздничные периоды.
- Ограниченный бизнес контекст
- Нет информации о маркетинговых кампаниях, что мешает объяснить тренды.
- Данные только за один год, что затрудняет анализ сезонности.

## Что можно сделать дальше
- Построить модели для прогнозирования удержания и дохода.
- Проанализировать данные о маркетинговых кампаниях.
- Собрать данные за несколько лет для изучения сезонности.
- Разделить клиентов по категориям товаров.
